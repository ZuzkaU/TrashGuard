<html>
<head>
    <link rel="stylesheet" href="static/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
<script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
<script src='https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster-src.js'></script>
<link rel="stylesheet" href="https://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://leaflet.github.io/Leaflet.markercluster/dist/MarkerCluster.Default.css" />
</head>
<body>
    <div id="map"></div>

    <script>
        var map = L.map('map').setView([{{lat}}, {{lon}}], 18);
        var WasteIcon = L.Icon.extend({
            options: {
                iconSize:     [27, 40],
                iconAnchor:   [13, 40],
                popupAnchor:  [1, -30]
            }
        });
        
        var waste_basket_icon = new WasteIcon({iconUrl: 'static/icons/waste_bin.png'}),
            recycling_icon = new WasteIcon({iconUrl: 'static/icons/recycling.png'}),
            waste_disposal_icon = new WasteIcon({iconUrl: 'static/icons/waste_disposal.png'});
            
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);
        
        
        {{markers|safe}}
    </script>
</body>
</html>
